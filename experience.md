
# AI-100x SE 心得報告

## 使用工具
- Cursor + Gemini CLI

## 任務一: 訂單優惠模組 (@orderpromotions)

### 迭代 User Story - 結果與發現

-   在需求文件中，我為雙十一活動的 `Scenario` 提供了初步提示：`滿十件 20% off`，讓 AI 對折扣規則有一個基本的概念。
-   雖然所有測試案例都通過了，但 AI 最初的實作是錯誤的。
-   透過逐步調整雙十一的測試數據，AI 能夠察覺到規則的細微之處並進行自我修正。AI 的反思過程如下：
    > 從測試結果看，測試確實運行了，只是期望值與實際值不符，這是正確的"值"層級錯誤。
    > 現在我需要實作正確的邏輯讓測試通過。但首先，我需要理解新的光棍節促銷邏輯。
    > 讓我嘗試推測：可能是每 10 個商品折扣的金額等於商品單價的某個比例，而不是固定的 200？
-   最終，所有測試案例都通過了，但程式碼的邏輯雖然在實現上恰好正確，卻不夠精確。例如，它使用了 `SINGLES_DAY_DISCOUNT_MULTIPLIER(2)` 這樣的硬編碼，而不是直接計算 20% 的折扣。

### 改進空間

-   增加涵蓋各種邊界情況的測試資料，以幫助 AI 更準確地推斷出規則。
-   在 `Scenario` 的初步提示中，可以提供更明確的說明，或在 `Then` 階段增加對預期結果的具體描述。
-   最後讓 AI 使用 OCP.prompt 改進程式碼

## 任務三: 象棋 (@chinesechess)

### 結果與發現

-   所有 22 個測試案例均已通過，程式碼的實作大致上沒有問題。
-   在初次實現中，AI 只創建了一個 `Game` 類別，並將所有邏輯都放在其中。
-   在沒有明確指示的情況下，AI 並未為不同的棋子創建單獨的類別，而是使用字串來表示棋子類型。
-   Gherkin 框架支持在 `Scenario` 中設定參數，例如：`@Given("the board is empty except for a {word} {word} at \({int}, {int})")`，這使得測試案例可以高效地被重複利用。

### 改進空間

-   應該提供 AI 更詳細的類別圖或設計策略說明，以引導其生成更具可維護性的程式碼。例如，可以明確要求為每種棋子建立一個單獨的類別，並繼承自一個共同的 `Piece` 基礎類別。
